{{- define "title" -}}Report Overview | DIB{{- end -}}
{{- define "content" -}}
    <h3>
        Report Overview
        <small class="text-muted">({{ .generationDate.Format "02 Jan 06 15:04 MST" }})</small>
    </h3>
    <hr>

    <div class="accordion accordion-flush" id="report-accordion">
        {{- range .buildReport }}
            <div class="accordion-item">
                <h2 class="accordion-header" id="heading-image-{{ .ImageName }}">
                    <button class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapse-image-{{ .ImageName }}"
                            aria-expanded="false"
                            aria-controls="collapse-image-{{ .ImageName }}">
                        <span>{{ .ImageName }}&nbsp; </span>
                        {{ if and (eq .TestsStatus 1) (eq .BuildStatus 1) }}
                            <span class="d-inline-block bg-success rounded-circle p-1"></span>&nbsp;
                        {{ else }}
                            <span class="d-inline-block bg-danger rounded-circle p-1"></span>&nbsp;
                        {{ end }}
                    </button>
                </h2>
                <div id="collapse-image-{{ .ImageName }}"
                     class="accordion-collapse collapse"
                     aria-labelledby="heading-image-{{ .ImageName }}"
                     data-bs-parent="#report-accordion">
                    <div class="accordion-body">
                        <i class="fa fa-file-text" aria-hidden="true"></i>
                        <strong>
                            Build:
                            {{ if (eq .BuildStatus 1) }}
                                <i class="fa fa-check-circle text-success" aria-hidden="true"></i>
                            {{ else }}
                                <i class="fa fa-times-circle text-danger" aria-hidden="true"></i>
                            {{ end }}
                        </strong>
                        <br>
                        <i class="fa fa-bug" aria-hidden="true"></i>
                        <strong>
                            Tests:
                            {{ if (eq .TestsStatus 1) }}
                                <i class="fa fa-check-circle text-success" aria-hidden="true"></i>
                            {{ else }}
                                <i class="fa fa-times-circle text-danger" aria-hidden="true"></i>
                            {{ end }}
                        </strong>
                        <br>
                        {{ if .FailureMessage }}
                            <i class="fa fa-code" aria-hidden="true"></i>
                            <strong>Failure Message:</strong> {{ .FailureMessage }}
                        {{ end }}
                    </div>
                </div>
            </div>
        {{- end }}
    </div>
{{- end -}}
